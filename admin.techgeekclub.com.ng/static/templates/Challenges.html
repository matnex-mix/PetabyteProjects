<br class="d-lg-none" />
<div class="p-3 p-lg-5 mt-5 mt-lg-0">

	<div class="alert grey lighten-2">##message##</div>

	<div class="bg-white p-3">
		<h3>Challenges</h3>
		<hr noshade="1">
		<p>
			Manage Existing Challenges Here &darr;
		</p>

		<div class="d-md-flex align-items-center">
			<div class="text-center text-md-left mt-4 mt-md-0 mb-4" style="flex-grow: 1">

				<input type="checkbox" onclick="check(this);" class="browser-default" style="position: static; display: inline; opacity: 1; pointer-events: unset">
				&nbsp;&nbsp;

				<font>Check all</font>
				&nbsp;&nbsp;
				<span><i>With Selected: </i></span>
				&nbsp;

				<a class="options" href="?/delete/0"><i class="fa fa-minus-circle red-text text-darken-1"></i>&nbsp;Trash</a>

			</div>
			<div class="text-center text-md-left mt-4 mt-md-0 mb-4">
				
				<a href="?p=0" class="fa-2x"><b>&laquo;</b></a>
				&nbsp;&nbsp;
				<a href="?p={(##page##-1)}" class="fa-2x"><b>&lt;</b></a>
				&nbsp;&nbsp;
				<a href="?p={(##page##+1)}" class="fa-2x"><b>&gt;</b></a>
				&nbsp;&nbsp;
				<a href="?p=-1" class="fa-2x"><b>&raquo;</b></a>

			</div>
		</div>

		<div class="table-responsive">
			<table class="table">
				
				<tr>
					<th>&nbsp;</th>
					<th>Id</th>
					<th>author</th>
					<th>Title</th>
					<th>Solved</th>
					<th>Success Rate</th>
					<th>likes</th>
					<th>unlikes</th>
					<th>status</th>
				</tr>

				##start_block:data##
				<tr>
					<td style="white-space: nowrap;">
						<input value="##..id##" type="checkbox" box-group="options" class="browser-default" style="position: static; display: inline; opacity: 1; pointer-events: unset">
						&nbsp;
						<a href="##site.Url##add/challenges/?/edit/##..id##"><i class="fa fa-pencil yellow-text text-darken-2"></i>&nbsp;Edit</a>
						&nbsp;
						<a href="?/delete/##..id##"><i class="fa fa-minus-circle red-text text-darken-1"></i>&nbsp;Trash</a>
					</td>
					<td>##..id##</td>
					<td>
						<a href="##site.Url##users/?/##..author##">##..author_n##</a>
					</td>
					<td>##..title##</td>
					<td>##..solved##</td>
					<td>##..srate##%</td>
					<td>##..likes##</td>
					<td>##..unlikes##</td>
					<td>##..status##</td>
				</tr>
				##end_block:data##

			</table>
		</div>

	</div>
</div>

<script type="text/javascript">
	$els = $('[box-group]');
	$els.on('click', function($el){

		$el_t = document.querySelectorAll('.'+$el.currentTarget.getAttribute("box-group"));
		
		$el_t.forEach(function($el_){

			if($el.currentTarget.checked) {
				$el_.href += "-"+$el.currentTarget.value;
			} else {
				$el_.href = $el_.href.replace( "-"+$el.currentTarget.value, "" );
			}

		});

	});

	function check($el) {

		$els = $("[box-group]");
		for(x=0; x<$els.length; x++){

			if( $el.checked && !$els[x].checked ) {
				$els[x].click();
			} else if( !$el.checked && $els[x].checked ) {
				$els[x].click();
			}

		};

	}

</script>